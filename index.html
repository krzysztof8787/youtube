<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>YouTube Uploads Linker</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 50px auto;
      text-align: center;
    }
    input {
      width: 90%;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
    }
    #status {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2>🔗 YouTube — channel player:</h2>
  <p>Podaj link do kanału YouTube (np. https://www.youtube.com/@dnzrecords):</p>
  <input id="channelInput" type="text" placeholder="https://www.youtube.com/@..." />
  <br>
  <button onclick="go()">Odtwórz filmy załadowane na kanał (Uploads)</button>
  <p id="status"></p>

<script>
async function go() {
  const input = document.getElementById('channelInput').value.trim();
  const status = document.getElementById('status');
  if (!input) return alert("Wklej link do kanału.");

  status.innerText = "⏳ Pobieram dane...";

  try {
    const response = await fetch(input);
    const html = await response.text();
    const match = html.match(/"channelId":"(UC[\w-]{22})"/);
    if (!match) {
      status.innerText = "❌ Nie udało się znaleźć channel ID.";
      return;
    }
    const channelId = match[1];
    const playlistId = "UU" + channelId.substring(2);
    const playlistUrl = `https://www.youtube.com/playlist?list=${playlistId}`;
    status.innerHTML = `✅ Otwieranie playlisty:<br><a href="${playlistUrl}" target="_blank">${playlistUrl}</a>`;
    window.location.href = playlistUrl;
  } catch (err) {
    status.innerText = "❌ Błąd: " + err.message;
  }
}
</script>
</body>
</html>
